var StoredSettings=function(e){"use strict";function t(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}const n=[{type:String,default:"",parse:e=>e,serialize:e=>e},{type:Number,default:null,parse:e=>parseInt(e,10),serialize:e=>e+""},{type:Boolean,default:!1,parse:e=>"1"===e,serialize:e=>e+0+""},{type:Array,default:()=>[],parse:e=>e&&"["===e[0]&&JSON.parse(e)||[],serialize:e=>JSON.stringify(e)},{type:Object,default:()=>{},parse:e=>e&&"{"===e[0]&&JSON.parse(e)||{},serialize:e=>JSON.stringify(e),deep:!0},{type:Date,default:()=>null,parse:e=>0===e.trim().length?null:Date.parse(e),serialize:e=>null==e?"":e.toISOString()}];const r=new(t(e).default)({});return function(e,t,s=localStorage){Array.isArray(t)&&(t=t.reduce(((e,t)=>Object.assign(e,{[t]:{default:null}})),{}));const a=Object.keys(t);a.forEach((e=>{const r=t[e];t[e]=function(e){let t;return null!=(t=n.find((t=>t.type===e)))?t:null!=(t=n.find((t=>t.type===e.type)))?Object.assign({},t,e):e}(r)}));const i=function(n){return(e?e+".":"")+(t[n].as||n)},l=function(e){const n=t[e],r=i(e);let a=s.getItem(r);return null==a&&(a="function"==typeof n.default?t.default():t.default),n.parse?n.parse(a):a},o=function(e){const n=t[e],a=i(e);return function(e){if(null==e)return;const t=n.serialize?n.serialize(e):e;s.setItem(a,t),r.$emit(a,e)}},u={},f={};let c=null;return{data(){const e={};for(const t of a)e[t]=l(t);return e},created(){for(const e of a){const n=t[e],s=i(e),a=n.type===Array?t=>this[e].splice(0,this[e].length,...t):t=>this[e]=t;!1!==n.readonly&&this.$watch(e,{handler:o(e),deep:n.deep||!1}),u[e]=t=>{this[e]!==t&&a(t)},f[s]=t=>{const r=n.parse(t.newValue);this[e]!==r&&a(r)},r.$on(s,u[e])}c=e=>{f[e.key]&&f[e.key](e)},window.addEventListener("storage",c)},destroyed(){c&&window.removeEventListener("storage",c);for(const e of a)r.$off(i(e),u[e])}}}}(Vue);
